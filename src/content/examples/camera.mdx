---
title: カメラ
id: 27
date: 2023-05-23
---

import ExampleCode from '../../components/ExampleCode.astro';
import ExampleLink from '../../components/ExampleLink.astro';
import DocLink from '../../components/DocLink.astro';

## CameraComponent

`CameraComponent`の`follow`を使うと、よくあるキャラクターに追従する画面スクロールを実現できます。

<DocLink document="https://docs.flame-engine.org/latest/flame/camera_component.html" />
<DocLink reference="https://pub.dev/documentation/flame/latest/camera/CameraComponent-class.html" />

※ 1.7 以前で使われていた`Camera`は非推奨になりました。

## 動かす

まずはマップとなるコンポーネントを作ります。
1500x1500 のサイズで、今いる場所がわかりやすいように適当に背景を描画します。

<ExampleCode file="camera/game.dart" label="camera1" />

次にカメラを設定します。
`world`と`cameraComponent`を作ってゲームに`add`します。

あとは`map`と`_rect`を`world`に`add`して、`follow`で`cameraComponent`が`_rect`を追いかけるようにします。

なお、`_rect`は<ExampleLink slug="keyboard_events" />の例で使ったものと同じで、矢印キーで動きます。

<ExampleCode file="camera/game.dart" label="camera2" />

これで、キャラクターに合わせて画面が動きます。
